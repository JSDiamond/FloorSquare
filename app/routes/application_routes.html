<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>application_routes.rb</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>application_routes.rb</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-1'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-1">&#182;</a>
        </div>
        
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/&#39;</span> <span class="k">do</span>
  <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
  <span class="n">erb</span> <span class="ss">:front</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-SWIPES'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-SWIPES">&#182;</a>
        </div>
        <h2>SWIPES</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-3'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-3">&#182;</a>
        </div>
        <p>Get last 50 swipes</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/swipes/?&#39;</span> <span class="k">do</span>
  <span class="n">content_type</span> <span class="ss">:json</span>

  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span>

  <span class="n">search</span> <span class="o">=</span> <span class="p">{}</span></pre></div>
      </td>
    </tr>
    <tr id='section-4'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-4">&#182;</a>
        </div>
        <p>Set search terms in specified in params.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="n">search</span><span class="o">[</span><span class="ss">:created_at</span><span class="o">.</span><span class="n">lt</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:until</span><span class="o">]</span> <span class="k">unless</span> <span class="n">params</span><span class="o">[</span><span class="ss">:until</span><span class="o">].</span><span class="n">nil?</span>
  <span class="n">search</span><span class="o">[</span><span class="ss">:created_at</span><span class="o">.</span><span class="n">gt</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:since</span><span class="o">]</span> <span class="k">unless</span> <span class="n">params</span><span class="o">[</span><span class="ss">:since</span><span class="o">].</span><span class="n">nil?</span></pre></div>
      </td>
    </tr>
    <tr id='section-5'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-5">&#182;</a>
        </div>
        <p>If no time range is specified, set the limit to 50</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="k">if</span> <span class="n">search</span><span class="o">.</span><span class="n">empty?</span>
    <span class="n">search</span><span class="o">[</span><span class="ss">:limit</span><span class="o">]</span> <span class="o">=</span> <span class="mi">50</span>
  <span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-6'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-6">&#182;</a>
        </div>
        <p>Only get swipes from matching app</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="n">search</span><span class="o">[</span><span class="ss">:app_id</span><span class="o">]</span> <span class="o">=</span> <span class="vi">@app</span><span class="o">.</span><span class="n">id</span></pre></div>
      </td>
    </tr>
    <tr id='section-7'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-7">&#182;</a>
        </div>
        <p>Sort by most recent.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="n">search</span><span class="o">[</span><span class="ss">:order</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="ss">:created_at</span><span class="o">.</span><span class="n">desc</span><span class="o">]</span></pre></div>
      </td>
    </tr>
    <tr id='section-8'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-8">&#182;</a>
        </div>
        <p>Maybe an app will have more than one device, let them specify which.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>  <span class="n">search</span><span class="o">[</span><span class="ss">:device_id</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:device_id</span><span class="o">]</span> <span class="k">unless</span> <span class="n">params</span><span class="o">[</span><span class="ss">:device_id</span><span class="o">].</span><span class="n">nil?</span>

  <span class="vi">@swipes</span> <span class="o">=</span> <span class="no">Swipe</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
  <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
  <span class="k">return</span> <span class="vi">@swipes</span><span class="o">.</span><span class="n">to_json</span>
<span class="k">end</span>

<span class="n">post</span> <span class="s1">&#39;/swipes/new/?&#39;</span> <span class="k">do</span>
  <span class="n">content_type</span> <span class="ss">:json</span>
  <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>

  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span>

  <span class="vi">@swipe</span> <span class="o">=</span> <span class="no">Swipe</span><span class="o">.</span><span class="n">create</span><span class="p">({</span>
    <span class="ss">:user_nnumber</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:user_nnumber</span><span class="o">]</span><span class="p">,</span>
    <span class="ss">:netid</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:netid</span><span class="o">]</span><span class="p">,</span>
    <span class="ss">:credential</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:credential</span><span class="o">]</span><span class="p">,</span>
    <span class="ss">:device_id</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:device_id</span><span class="o">]</span><span class="p">,</span>
    <span class="ss">:app_id</span> <span class="o">=&gt;</span> <span class="vi">@app</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
    <span class="ss">:extra</span> <span class="o">=&gt;</span> <span class="p">{</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="n">app_id</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:extra</span><span class="o">]</span> <span class="p">}</span>
  <span class="p">})</span>

  <span class="k">if</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">save</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">first_or_create</span><span class="p">(</span><span class="vi">@swipe</span><span class="o">.</span><span class="n">user_nnumber</span><span class="p">)</span>
    <span class="n">extra</span><span class="o">=</span> <span class="vi">@user</span><span class="o">.</span><span class="n">extra</span><span class="o">[</span> <span class="s2">&quot;app_id_&quot;</span><span class="o">+</span> <span class="n">app_id</span><span class="o">.</span><span class="n">to_s</span> <span class="o">]</span>
    <span class="n">data</span><span class="o">=</span> <span class="p">{</span> <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="vi">@user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="ss">:photo</span> <span class="o">=&gt;</span> <span class="vi">@user</span><span class="o">.</span><span class="n">photo</span><span class="p">,</span> <span class="ss">:extra</span> <span class="o">=&gt;</span> <span class="n">extra</span><span class="p">,</span> <span class="ss">:swipeid</span><span class="o">=&gt;</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">id</span><span class="p">}</span></pre></div>
      </td>
    </tr>
    <tr id='section-9'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-9">&#182;</a>
        </div>
        <p>return JSONP data</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">to_json</span>
  <span class="k">else</span>
    <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;Error saving item</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-10'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-10">&#182;</a>
        </div>
        <p>Allows extra data to be added to a swipe, after the swipe occurs.
Makes sense from a user perspective (swipe first, then do something)</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">post</span> <span class="s1">&#39;/swipes/:id&#39;</span> <span class="k">do</span>

  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span>

  <span class="vi">@swipe</span> <span class="o">=</span> <span class="no">Swipe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>

  <span class="n">extra</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:extra</span><span class="o">]</span>

  <span class="k">if</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">extra</span>
    <span class="n">new_extra</span> <span class="o">=</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">extra</span><span class="o">[</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="n">app_id</span><span class="o">].</span><span class="n">merge</span><span class="p">(</span><span class="n">extra</span><span class="p">)</span>
    <span class="vi">@swipe</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="n">app_id</span> <span class="o">=&gt;</span> <span class="n">new_extra</span> <span class="p">}</span>
  <span class="k">else</span>
    <span class="n">swipe</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="n">app_id</span> <span class="o">=&gt;</span> <span class="n">extra</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="k">if</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
    <span class="k">return</span> <span class="vi">@swipe</span><span class="o">.</span><span class="n">to_json</span>
  <span class="k">else</span>
    <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
    <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;Error saving item</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">]</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-MEMBERS'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-MEMBERS">&#182;</a>
        </div>
        <h2>MEMBERS</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre></pre></div>
      </td>
    </tr>
    <tr id='section-12'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-12">&#182;</a>
        </div>
        <p>Get all users associated with this app</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/members&#39;</span> <span class="k">do</span>
  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span></pre></div>
      </td>
    </tr>
    <tr id='section-13'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-13">&#182;</a>
        </div>
        <p>This is a complicated relation that we don&rsquo;t currently have.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-14'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-14">&#182;</a>
        </div>
        <p>Get a specific member</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/members/:nnumber&#39;</span> <span class="k">do</span>
  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span>

  <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:nnumber</span><span class="o">]</span><span class="p">)</span>

  <span class="n">extra</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:extra</span><span class="o">]</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span>
    <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
    <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">404</span><span class="p">,</span> <span class="s2">&quot;Member not found</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">]</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">extra</span>
      <span class="n">new_extra</span><span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">extra</span><span class="o">[</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="vi">@app</span><span class="o">.</span><span class="n">id</span><span class="o">].</span><span class="n">merge</span><span class="p">(</span><span class="n">extra</span><span class="p">)</span>
      <span class="vi">@user</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="vi">@app</span><span class="o">.</span><span class="n">id</span> <span class="o">=&gt;</span> <span class="n">new_extra</span> <span class="p">}</span>
    <span class="k">else</span>
      <span class="vi">@user</span><span class="o">.</span><span class="n">extra</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;app_id_&quot;</span><span class="o">+</span><span class="vi">@app</span><span class="o">.</span><span class="n">id</span> <span class="o">=&gt;</span> <span class="n">extra</span> <span class="p">}</span>
    <span class="k">end</span>

    <span class="k">if</span> <span class="vi">@user</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
      <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
      <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span class="n">to_json</span>
    <span class="k">else</span>
      <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
      <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;Error saving User</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">]</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-15'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-15">&#182;</a>
        </div>
        <p>Get the swipes belonging to a member</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/members/:nnumber/swipes&#39;</span> <span class="k">do</span>
  <span class="vi">@app</span> <span class="o">=</span> <span class="no">App</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="ss">:auth_key</span> <span class="o">=&gt;</span> <span class="n">params</span><span class="o">[</span><span class="ss">:app_key</span><span class="o">]</span><span class="p">)</span>
  <span class="n">validate_app_key</span> <span class="vi">@app</span>

  <span class="vi">@user</span> <span class="o">=</span> <span class="no">User</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:nnumber</span><span class="o">]</span><span class="p">)</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span>
    <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
    <span class="kp">throw</span><span class="p">(</span><span class="ss">:halt</span><span class="p">,</span> <span class="o">[</span><span class="mi">404</span><span class="p">,</span> <span class="s2">&quot;Member not found</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">]</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="n">response</span><span class="o">[</span><span class="s1">&#39;Access-Control-Allow-Origin&#39;</span><span class="o">]</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
    <span class="k">return</span> <span class="vi">@user</span><span class="o">.</span><span class="n">swipes</span><span class="o">.</span><span class="n">to_json</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-ADMIN'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-ADMIN">&#182;</a>
        </div>
        <h2>ADMIN</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/admin/&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/apps&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/apps/new&#39;</span> <span class="k">do</span></pre></div>
      </td>
    </tr>
    <tr id='section-17'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-17">&#182;</a>
        </div>
        <p>We should use datamapper&rsquo;s builtin api key field for this&hellip;
https://github.com/datamapper/dm-types/blob/master/lib/dm-types/api_key.rb</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="k">end</span>

<span class="n">post</span> <span class="s1">&#39;/admin/apps/new&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/apps/:id/&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/apps/:id/edit&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">put</span> <span class="s1">&#39;/admin/apps/:id&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">delete</span> <span class="s1">&#39;/admin/apps/:id&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/devices&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/devices/new&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">post</span> <span class="s1">&#39;/admin/devices/new&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/devices/:id&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">get</span> <span class="s1">&#39;/admin/devices/:id/edit&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">put</span> <span class="s1">&#39;/admin/devices/:id&#39;</span> <span class="k">do</span>
<span class="k">end</span>

<span class="n">delete</span> <span class="s1">&#39;/admin/devices/:id&#39;</span> <span class="k">do</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-SASS'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-SASS">&#182;</a>
        </div>
        <h2>SASS</h2>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">get</span> <span class="s1">&#39;/stylesheets/style.css&#39;</span> <span class="k">do</span>
  <span class="n">scss</span> <span class="ss">:style</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    <tr id='section-404'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-404">&#182;</a>
        </div>
        <h2>404</h2>

      </td>
      <td class=code>
        <div class='highlight'><pre><span class="n">not_found</span> <span class="k">do</span>
  <span class="n">erb</span> <span class="ss">:notfound</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
